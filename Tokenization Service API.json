{"openapi":"3.0.0","info":{"title":"Tokenization Service API","version":"1.0.0"},"servers":[{"description":"Sandbox token server","url":"https://token-sandbox.dev.clover.com"}],"components":{"requestBodies":{"CreateTokenRequest":{"description":"Card details, including metadata of the tokenized card","required":true,"content":{"application/json":{"encoding":{"expand":{"explode":true,"style":"deepObject"},"items":{"explode":true,"style":"deepObject"},"metadata":{"explode":true,"style":"deepObject"},"shipping":{"explode":true,"style":"deepObject"}},"schema":{"properties":{"card":{"required":["number","exp_month","exp_year","cvv"],"type":"object","properties":{"number":{"type":"string","description":"The card number"},"encrypted_pan":{"description":"Encrypted card primary account number (PAN) provided by TransArmor","type":"string"},"exp_month":{"description":"Card expiration month in two-digit format","type":"string"},"exp_year":{"description":"Card expiration year in two or four-digit format","type":"string"},"cvv":{"description":"Card verification value","type":"string"},"last4":{"description":"Last four numbers of the PAN","type":"string"},"first6":{"description":"First six numbers of the PAN","type":"string"},"country":{"description":"Two-character country code","type":"string"},"brand":{"$ref":"#/components/schemas/CardType"},"name":{"description":"Cardholder's full name","type":"string"},"address_line1":{"description":"Address line 1 (Street address/P.O. Box/Company name)","type":"string"},"address_line2":{"description":"Address line 2 (Apartment/Suite/Unit/Building)","type":"string"},"address_city":{"description":"City/District/Suburb/Town/Village","type":"string"},"address_state":{"description":"State/County/Province/Region","type":"string"},"address_zip":{"description":"ZIP or postal code","type":"string"},"address_country":{"description":"Billing address country, if provided","type":"string"}}}}}}}}},"schemas":{"error":{"description":"An error response from the API","properties":{"type":{"description":"Error type","enum":["api_connection_error","api_error","authentication_error","card_error","idempotency_error","invalid_request_error","rate_limit_error","validation_error"]},"code":{"description":"Error codes. You can handle these errors programmatically.","enum":["amount_too_large","amount_too_small","api_key_expired","card_declined","charge_already_captured","charge_already_refunded","charge_disputed","charge_exceeds_source_limit","charge_expired_for_capture","country_unsupported","email_invalid","expired_card","incorrect_address","incorrect_cvc","incorrect_number","incorrect_zip","invalid_card_type","invalid_charge_amount","invalid_cvc","invalid_expiry_month","invalid_expiry_year","invalid_number","missing","order_creation_failed","order_required_settings","order_status_invalid","parameter_invalid_empty","parameter_invalid_integer","parameter_invalid_string_blank","parameter_invalid_string_empty","parameter_missing","parameter_unknown","postal_code_invalid","processing_error","rate_limit","resource_missing","token_already_used","invalid_request"]},"message":{"description":"Detailed information about the error code","type":"string"},"decline_code":{"description":"(For card issuer decline errors) Reason for decline if specified by card issuer","type":"string"},"charge":{"description":"(For card errors) ID of the failed charge","type":"string"},"doc_url":{"description":"URL for more information about the reported error code","type":"string"},"param":{"description":"(For card parameter errors) Error parameter, which can be used to display a message about an incorrect form field","type":"string"}}},"CreateTokenResponse":{"properties":{"id":{"description":"Unique ID","maxLength":128,"type":"string"},"card":{"$ref":"#/components/schemas/Card"},"created":{"description":"Creation time of the token object","format":"unix-time","type":"integer"},"type":{"description":"Token type","type":"string","enum":["card","wallet (Google Pay or Apple Pay)"]}}},"CloverToken":{"properties":{"id":{"description":"Unique ID","type":"string","maxLength":128},"tokenValue":{"description":"Public source token by Clover","type":"string"},"merchantUuid":{"description":"Merchant UUID","type":"string"},"developerAppUuid":{"description":"Developer UUID","type":"string"},"createdTime":{"type":"integer"},"lastAccessedTime":{"type":"integer"}}},"MultiPayToken":{"properties":{"id":{"description":"Unique ID","type":"string","maxLength":13},"tokenValue":{"description":"Private HSM encrypted token value provided by TransArmor","type":"string"},"tokenValueBackup":{"description":"Private RSA encrypted token value provided by TransArmor","type":"string"},"taTokenType":{"description":"TransArmor token type","type":"string"},"createdTime":{"type":"integer"},"modifiedTime":{"type":"integer"}}},"TokenMeta":{"properties":{"id":{"description":"Unique ID","type":"string","maxLength":13},"cloverTokenId":{"description":"Meta ID of the token stored by Clover","type":"integer"},"tokenStatus":{"type":"string","enum":["NEW","VERIFIED"]},"tokenType":{"type":"string","enum":["ONEOFF","MULTIPAY","RECURRING"]},"tokenProvider":{"type":"string","enum":["TASTM","IPG","MOCK"]},"paymentInstrument":{"type":"string","enum":["CARD"]},"createdTime":{"type":"integer"},"modifiedTime":{"type":"integer"}}},"Token":{"properties":{"card":{"$ref":"#/components/schemas/Card"},"cloverToken":{"$ref":"#/components/schemas/CloverToken"},"multipayToken":{"$ref":"#/components/schemas/MultiPayToken"},"tokenMeta":{"$ref":"#/components/schemas/TokenMeta"}}},"UpdateTokenRequest":{"additionalProperties":false,"properties":{"token":{"description":"Public source token by Clover","maxLength":128,"type":"string"},"type":{"$ref":"#/components/schemas/TokenType"}}},"Card":{"description":"Card details, including metadata of the tokenized card","properties":{"number":{"description":"card number","type":"string"},"encrypted_pan":{"description":"Encrypted card primary account number (PAN) provided by TransArmor","type":"string"},"exp_month":{"description":"Card expiration month in two-digit format","type":"string"},"exp_year":{"description":"Card expiration year in two or four-digit format","type":"string"},"cvv":{"description":"Card verification value","type":"string"},"last4":{"description":"Last four numbers of the PAN","type":"string"},"first6":{"description":"First six numbers of the PAN","type":"string"},"country":{"description":"Two-character country code","type":"string"},"brand":{"$ref":"#/components/schemas/CardType"},"id":{"description":"Unique ID","type":"string"},"object":{"description":"Object type. Objects with the same type have the same value.","type":"string"},"name":{"description":"Cardholder's full name","type":"string"},"address_line1":{"description":"Address line 1 (Street address/P.O. Box/Company name)","type":"string"},"address_line2":{"description":"Address line 2 (Apartment/Suite/Unit/Building)","type":"string"},"address_city":{"description":"City/District/Suburb/Town/Village","type":"string"},"address_state":{"description":"State/County/Province/Region","type":"string"},"address_zip":{"description":"ZIP or postal code","type":"string"},"address_country":{"description":"Billing address country, if provided","type":"string"},"cvc_check":{"description":"CVC check result","type":"string","enum":["pass","fail","unavailable","unchecked"]}}},"CardType":{"description":"Card brand","type":"string","enum":["VISA","MC","AMEX","DISCOVER","DINERS_CLUB","JCB"]},"TokenType":{"type":"string","enum":["ONEOFF","MULTIPAY","RECURRING"]}}},"paths":{"/v1/tokens":{"post":{"tags":["TOKENS"],"operationId":"CreateToken","summary":"Create a card token","x-clover-handler":"com.clover.tokenization.handler.CreateTokenHandler","x-clover-is-public":true,"description":"Creates a single-use token that represents credit card details. This token can be used to make a payment.","parameters":[{"in":"header","name":"apikey","schema":{"type":"string","format":"uuid"},"required":true}],"requestBody":{"$ref":"#/components/requestBodies/CreateTokenRequest"},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTokenResponse"}}}},"400":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/error"}}},"description":"Bad request."},"401":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/error"}}},"description":"Authorization information is missing or invalid"},"5XX":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/error"}}},"description":"Unexpected error"}}}}},"x-explorer-enabled":true,"x-proxy-enabled":true,"x-samples-enabled":true,"x-samples-languages":["curl","node","ruby","javascript","python"]}